{"ast":null,"code":"import axios from 'axios';\nimport LocalStorage from '../constants/localStorage';\n\nclass Http {\n  constructor() {\n    this.instance = axios.create({\n      baseURL: process.env.REACT_APP_API,\n      timeout: 10000,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    this.instance.interceptors.response.use(response => {\n      const result = { ...response.data,\n        status: response.status\n      };\n      return result;\n    }, _ref => {\n      let {\n        response\n      } = _ref;\n      const result = { ...response.data,\n        statu: response.status\n      };\n      return Promise.reject(result);\n    });\n    this.instance.interceptors.request.use(config => {\n      const accessToken = localStorage.getItem(LocalStorage.accessToken);\n\n      if (accessToken) {\n        config.headers.authorization = accessToken;\n      }\n\n      return config;\n    }, error => {\n      return Promise.reject(error.response);\n    });\n  }\n\n  get(url) {\n    let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return this.instance.get(url, config);\n  }\n\n  post(url, data) {\n    let config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    return this.instance.post(url, data, config);\n  }\n\n  put(url, data) {\n    let config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    return this.instance.put(url, data, config);\n  }\n\n  delete(url, data) {\n    let config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    return this.instance.delete(url, {\n      data,\n      ...config\n    });\n  }\n\n}\n\nconst http = new Http();\nexport default http;","map":{"version":3,"sources":["F:/ReactJS/React-Project/shopee/src/utils/http.js"],"names":["axios","LocalStorage","Http","constructor","instance","create","baseURL","process","env","REACT_APP_API","timeout","headers","interceptors","response","use","result","data","status","statu","Promise","reject","request","config","accessToken","localStorage","getItem","authorization","error","get","url","post","put","delete","http"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;;AAEA,MAAMC,IAAN,CAAW;AACTC,EAAAA,WAAW,GAAG;AACZ,SAAKC,QAAL,GAAgBJ,KAAK,CAACK,MAAN,CAAa;AAC3BC,MAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,aADM;AAE3BC,MAAAA,OAAO,EAAE,KAFkB;AAG3BC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHkB,KAAb,CAAhB;AAOA,SAAKP,QAAL,CAAcQ,YAAd,CAA2BC,QAA3B,CAAoCC,GAApC,CACED,QAAQ,IAAI;AACV,YAAME,MAAM,GAAG,EAAE,GAAGF,QAAQ,CAACG,IAAd;AAAoBC,QAAAA,MAAM,EAAEJ,QAAQ,CAACI;AAArC,OAAf;AACA,aAAOF,MAAP;AACD,KAJH,EAKE,QAAkB;AAAA,UAAjB;AAAEF,QAAAA;AAAF,OAAiB;AAChB,YAAME,MAAM,GAAG,EAAE,GAAGF,QAAQ,CAACG,IAAd;AAAoBE,QAAAA,KAAK,EAAEL,QAAQ,CAACI;AAApC,OAAf;AACA,aAAOE,OAAO,CAACC,MAAR,CAAeL,MAAf,CAAP;AACD,KARH;AAUA,SAAKX,QAAL,CAAcQ,YAAd,CAA2BS,OAA3B,CAAmCP,GAAnC,CACEQ,MAAM,IAAI;AACR,YAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqBxB,YAAY,CAACsB,WAAlC,CAApB;;AACA,UAAIA,WAAJ,EAAiB;AACfD,QAAAA,MAAM,CAACX,OAAP,CAAee,aAAf,GAA+BH,WAA/B;AACD;;AACD,aAAOD,MAAP;AACD,KAPH,EAQEK,KAAK,IAAI;AACP,aAAOR,OAAO,CAACC,MAAR,CAAeO,KAAK,CAACd,QAArB,CAAP;AACD,KAVH;AAYD;;AACDe,EAAAA,GAAG,CAACC,GAAD,EAAqB;AAAA,QAAfP,MAAe,uEAAN,IAAM;AACtB,WAAO,KAAKlB,QAAL,CAAcwB,GAAd,CAAkBC,GAAlB,EAAuBP,MAAvB,CAAP;AACD;;AACDQ,EAAAA,IAAI,CAACD,GAAD,EAAMb,IAAN,EAA2B;AAAA,QAAfM,MAAe,uEAAN,IAAM;AAC7B,WAAO,KAAKlB,QAAL,CAAc0B,IAAd,CAAmBD,GAAnB,EAAwBb,IAAxB,EAA8BM,MAA9B,CAAP;AACD;;AACDS,EAAAA,GAAG,CAACF,GAAD,EAAMb,IAAN,EAA2B;AAAA,QAAfM,MAAe,uEAAN,IAAM;AAC5B,WAAO,KAAKlB,QAAL,CAAc2B,GAAd,CAAkBF,GAAlB,EAAuBb,IAAvB,EAA6BM,MAA7B,CAAP;AACD;;AACDU,EAAAA,MAAM,CAACH,GAAD,EAAMb,IAAN,EAA2B;AAAA,QAAfM,MAAe,uEAAN,IAAM;AAC/B,WAAO,KAAKlB,QAAL,CAAc4B,MAAd,CAAqBH,GAArB,EAA0B;AAC/Bb,MAAAA,IAD+B;AAE/B,SAAGM;AAF4B,KAA1B,CAAP;AAID;;AA9CQ;;AAiDX,MAAMW,IAAI,GAAG,IAAI/B,IAAJ,EAAb;AACA,eAAe+B,IAAf","sourcesContent":["import axios from 'axios'\r\nimport LocalStorage from '../constants/localStorage'\r\n\r\nclass Http {\r\n  constructor() {\r\n    this.instance = axios.create({\r\n      baseURL: process.env.REACT_APP_API,\r\n      timeout: 10000,\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    this.instance.interceptors.response.use(\r\n      response => {\r\n        const result = { ...response.data, status: response.status }\r\n        return result\r\n      },\r\n      ({ response }) => {\r\n        const result = { ...response.data, statu: response.status }\r\n        return Promise.reject(result)\r\n      }\r\n    )\r\n    this.instance.interceptors.request.use(\r\n      config => {\r\n        const accessToken = localStorage.getItem(LocalStorage.accessToken)\r\n        if (accessToken) {\r\n          config.headers.authorization = accessToken\r\n        }\r\n        return config\r\n      },\r\n      error => {\r\n        return Promise.reject(error.response)\r\n      }\r\n    )\r\n  }\r\n  get(url, config = null) {\r\n    return this.instance.get(url, config)\r\n  }\r\n  post(url, data, config = null) {\r\n    return this.instance.post(url, data, config)\r\n  }\r\n  put(url, data, config = null) {\r\n    return this.instance.put(url, data, config)\r\n  }\r\n  delete(url, data, config = null) {\r\n    return this.instance.delete(url, {\r\n      data,\r\n      ...config\r\n    })\r\n  }\r\n}\r\n\r\nconst http = new Http()\r\nexport default http\r\n"]},"metadata":{},"sourceType":"module"}